import{j as e,Q as u,_ as n,r as i}from"./index-S50c8m2H.js";import{D as _,L as x}from"./DocumentTitle-B-ljFPm7.js";import{A as h}from"./AdvantagesSection-tw7nVc6P.js";import{c as w,a as b,u as f,o as j}from"./yup-QmCvZnig.js";const v="_backdrop_1fs6v_1",g="_wrapper_1fs6v_10",c={backdrop:v,wrapper:g},S="_container_wa259_1",W="_header_wa259_5",y="_label_wa259_12",N="_formGroup_wa259_19",A="_input_wa259_24",k="_inputWrapper_wa259_44",E="_submitButton_wa259_48",z="_buttonWrapper_wa259_66",$="_error_wa259_70",F="_errorMessage_wa259_74",r={container:S,header:W,label:y,formGroup:N,input:A,inputWrapper:k,submitButton:E,buttonWrapper:z,error:$,errorMessage:F},P=()=>{const a=w().shape({email:b().email("Invalid email format").matches(/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}$/,"Invalid email format").required("Email is required")}),{register:t,handleSubmit:s,formState:{errors:o},reset:p}=f({resolver:j(a)}),l=async m=>{try{(await u.post("https://project6-back.onrender.com/users/send-reset-email",{email:m.email})).status===200&&n.success("Check your email for the password reset link.",{duration:4e3,position:"top-center",style:{textAlign:"center",boxShadow:"8px 11px 27px -8px rgba(66, 68, 90, 1)"}})}catch{n.error("Failed to send reset password email. Please try again later.",{duration:4e3,position:"top-center",style:{textAlign:"center",boxShadow:"8px 11px 27px -8px rgba(66, 68, 90, 1)"}})}p()};return e.jsx("div",{className:r.container,children:e.jsxs("form",{onSubmit:s(l),children:[e.jsx("h2",{className:r.header,children:"Account recovery"}),e.jsxs("div",{className:r.formGroup,children:[e.jsx("label",{className:r.label,children:"Enter your email:"}),e.jsx("div",{className:r.inputWrapper,children:e.jsx("input",{className:`${r.input} ${o.email?r.error:""}`,type:"text",name:"email",placeholder:"Enter your email",...t("email")})}),o.email&&e.jsx("p",{className:r.errorMessage,children:o.email.message})]}),e.jsx("div",{className:r.buttonWrapper,children:e.jsx("button",{className:r.submitButton,type:"submit",children:"Send"})})]})})},M=()=>{const[a,t]=i.useState(window.innerWidth>=1440);return i.useEffect(()=>{const s=()=>{t(window.innerWidth>=1440)};return window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[]),e.jsxs("div",{className:c.wrapper,children:[e.jsx(_,{children:"Aqua Track - Request Reset Password"}),e.jsxs("div",{className:c.backdrop,children:[e.jsx(x,{}),e.jsx(P,{})]}),a&&e.jsx(h,{})]})};export{M as default};
//# sourceMappingURL=ForgotPasswordPage-DC0fGnpy.js.map

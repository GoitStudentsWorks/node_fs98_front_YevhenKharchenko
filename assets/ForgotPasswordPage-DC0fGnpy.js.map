{"version":3,"file":"ForgotPasswordPage-DC0fGnpy.js","sources":["../../src/components/ForgotPasswordForm/ForgotPasswordForm.jsx","../../src/pages/ForgotPasswordPage/ForgotPasswordPage.jsx"],"sourcesContent":["import css from './ForgotPasswordForm.module.css';\nimport { useForm } from 'react-hook-form';\nimport * as Yup from 'yup';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\n\nconst ForgotPasswordForm = () => {\n  const validationSchema = Yup.object().shape({\n    email: Yup.string()\n    .email('Invalid email format')\n    .matches(/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Z|a-z]{2,}$/, 'Invalid email format')\n    .required('Email is required'),\n  });\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    reset,\n  } = useForm({\n    resolver: yupResolver(validationSchema),\n  });\n\n  const onSubmit = async data => {\n    try {\n      const response = await axios.post(\n        'https://project6-back.onrender.com/users/send-reset-email',\n        {\n          email: data.email,\n        }\n      );\n      if (response.status === 200) {\n        toast.success(`Check your email for the password reset link.`, {\n          duration: 4000,\n          position: 'top-center',\n          style: {\n            textAlign: 'center',\n            boxShadow: '8px 11px 27px -8px rgba(66, 68, 90, 1)',\n          },\n        });\n      }\n    } catch (error) {\n      toast.error(`Failed to send reset password email. Please try again later.`, {\n        duration: 4000,\n        position: 'top-center',\n        style: {\n          textAlign: 'center',\n          boxShadow: '8px 11px 27px -8px rgba(66, 68, 90, 1)',\n        },\n      });\n    }\n    reset();\n  };\n\n  return (\n    <div className={css.container}>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <h2 className={css.header}>Account recovery</h2>\n\n        <div className={css.formGroup}>\n          <label className={css.label}>Enter your email:</label>\n          <div className={css.inputWrapper}>\n            <input\n              className={`${css.input} ${errors.email ? css.error : ''}`}\n              type=\"text\"\n              name=\"email\"\n              placeholder=\"Enter your email\"\n              {...register('email')}\n            />\n          </div>\n          {errors.email && <p className={css.errorMessage}>{errors.email.message}</p>}\n        </div>\n        <div className={css.buttonWrapper}>\n          <button className={css.submitButton} type=\"submit\">\n            Send\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default ForgotPasswordForm;\n","import { useEffect, useState } from 'react';\nimport css from './ForgotPasswordPage.module.css';\nimport Logo from '../../components/Logo/Logo';\nimport AdvantagesSection from '../../components/AdvantagesSection/AdvantagesSection';\nimport ForgotPasswordForm from '../../components/ForgotPasswordForm/ForgotPasswordForm';\nimport DocumentTitle from '../../components/DocumentTitle';\n\nconst ForgotPasswordPage = () => {\n  const [isWideScreen, setIsWideScreen] = useState(window.innerWidth >= 1440);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setIsWideScreen(window.innerWidth >= 1440);\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n\n  return (\n    <div className={css.wrapper}>\n      <DocumentTitle>Aqua Track - Request Reset Password</DocumentTitle>\n      <div className={css.backdrop}>\n        <Logo />\n        <ForgotPasswordForm />\n      </div>\n      {isWideScreen && <AdvantagesSection />}\n    </div>\n  );\n};\n\nexport default ForgotPasswordPage;\n"],"names":["ForgotPasswordForm","validationSchema","Yup.object","Yup.string","register","handleSubmit","errors","reset","useForm","yupResolver","onSubmit","data","axios","toast","jsx","css","jsxs","ForgotPasswordPage","isWideScreen","setIsWideScreen","useState","useEffect","handleResize","DocumentTitle","Logo","AdvantagesSection"],"mappings":"opBAOMA,EAAqB,IAAM,CAC/B,MAAMC,EAAmBC,EAAW,EAAE,MAAM,CAC1C,MAAOC,EAAW,EACjB,MAAM,sBAAsB,EAC5B,QAAQ,oDAAqD,sBAAsB,EACnF,SAAS,mBAAmB,CAAA,CAC9B,EAEK,CACJ,SAAAC,EACA,aAAAC,EACA,UAAW,CAAE,OAAAC,CAAO,EACpB,MAAAC,GACEC,EAAQ,CACV,SAAUC,EAAYR,CAAgB,CAAA,CACvC,EAEKS,EAAW,MAAMC,GAAQ,CACzB,GAAA,EACe,MAAMC,EAAM,KAC3B,4DACA,CACE,MAAOD,EAAK,KACd,CAAA,GAEW,SAAW,KACtBE,EAAM,QAAQ,gDAAiD,CAC7D,SAAU,IACV,SAAU,aACV,MAAO,CACL,UAAW,SACX,UAAW,wCACb,CAAA,CACD,OAEW,CACdA,EAAM,MAAM,+DAAgE,CAC1E,SAAU,IACV,SAAU,aACV,MAAO,CACL,UAAW,SACX,UAAW,wCACb,CAAA,CACD,CACH,CACMN,GAAA,EAIN,OAAAO,EAAA,IAAC,MAAI,CAAA,UAAWC,EAAI,UAClB,gBAAC,OAAK,CAAA,SAAUV,EAAaK,CAAQ,EACnC,SAAA,CAAAI,EAAA,IAAC,KAAG,CAAA,UAAWC,EAAI,OAAQ,SAAgB,mBAAA,EAE1CC,EAAA,KAAA,MAAA,CAAI,UAAWD,EAAI,UAClB,SAAA,CAAAD,EAAA,IAAC,QAAM,CAAA,UAAWC,EAAI,MAAO,SAAiB,oBAAA,EAC7CD,EAAA,IAAA,MAAA,CAAI,UAAWC,EAAI,aAClB,SAAAD,EAAA,IAAC,QAAA,CACC,UAAW,GAAGC,EAAI,KAAK,IAAIT,EAAO,MAAQS,EAAI,MAAQ,EAAE,GACxD,KAAK,OACL,KAAK,QACL,YAAY,mBACX,GAAGX,EAAS,OAAO,CAAA,CAAA,EAExB,EACCE,EAAO,OAAUQ,MAAA,IAAA,CAAE,UAAWC,EAAI,aAAe,SAAOT,EAAA,MAAM,OAAQ,CAAA,CAAA,EACzE,EACCQ,EAAA,IAAA,MAAA,CAAI,UAAWC,EAAI,cAClB,SAAAD,EAAAA,IAAC,SAAO,CAAA,UAAWC,EAAI,aAAc,KAAK,SAAS,eAEnD,CAAA,EACF,CAAA,CACF,CAAA,CACF,CAAA,CAEJ,EC1EME,EAAqB,IAAM,CAC/B,KAAM,CAACC,EAAcC,CAAe,EAAIC,EAAS,SAAA,OAAO,YAAc,IAAI,EAE1EC,OAAAA,EAAAA,UAAU,IAAM,CACd,MAAMC,EAAe,IAAM,CACTH,EAAA,OAAO,YAAc,IAAI,CAAA,EAGpC,cAAA,iBAAiB,SAAUG,CAAY,EACvC,IAAM,CACJ,OAAA,oBAAoB,SAAUA,CAAY,CAAA,CAErD,EAAG,CAAE,CAAA,EAGFN,EAAAA,KAAA,MAAA,CAAI,UAAWD,EAAI,QAClB,SAAA,CAAAD,EAAAA,IAACS,GAAc,SAAmC,qCAAA,CAAA,EACjDP,EAAA,KAAA,MAAA,CAAI,UAAWD,EAAI,SAClB,SAAA,CAAAD,EAAA,IAACU,EAAK,EAAA,QACLxB,EAAmB,EAAA,CAAA,EACtB,EACCkB,SAAiBO,EAAkB,EAAA,CACtC,CAAA,CAAA,CAEJ"}
import{j as o,c as A,d as pr,r as S,M as fr,e as On,u as me,s as R,f as mr,_ as Ee,g as vr,h as Jt,i as hr,k as gr,m as Nn,n as yr,a as br,o as _r,p as St,q as xr,t as wr,v as Xt,w as Or,x as jn,y as Nr,z as Cn,A as jr,B as Cr,C as Tr,D as Tn,E as Dr,F as Mr,H as Sr,I as Dn,J as Er,K as Mn,L as Gt,O as Br,P as $r}from"./index-S50c8m2H.js";import{c as Sn,d as ot,a as at,u as En,o as Bn}from"./yup-QmCvZnig.js";import{L as Ir,a as Wr,D as Ar}from"./DocumentTitle-B-ljFPm7.js";const Pr="_container_1hgb7_1",kr={container:Pr},Rr="_dailyNormaWrapper_1tmac_1",Lr="_normaTitle_1tmac_14",Fr="_normaValue_1tmac_21",gt={dailyNormaWrapper:Rr,normaTitle:Lr,normaValue:Fr},qr=({dailyNorm:e})=>o.jsxs("div",{className:gt.dailyNormaWrapper,children:[o.jsxs("p",{className:gt.normaValue,children:[e," L"]}),o.jsx("p",{className:gt.normaTitle,children:"My daily norma"})]}),Hr=(e=[],t)=>{if(!e||e.length===0)return 0;let n=0;e.forEach(i=>{n+=i.amount});const r=Number(t)*1e3;if(n>=r)return 100;const a=n/r*100;return Math.round(a)},Ur="_progressBarContainer_96tns_1",Vr="_progressTitle_96tns_15",Yr="_progressBar_96tns_1",zr="_progressBarFill_96tns_31",Kr="_progressIndicator_96tns_39",Jr="_percentageList_96tns_73",Xr="_dynamicPercentageLabel_96tns_91",be={progressBarContainer:Ur,progressTitle:Vr,progressBar:Yr,progressBarFill:zr,progressIndicator:Kr,percentageList:Jr,dynamicPercentageLabel:Xr},Gr=({dailyNorm:e})=>{const t=A(pr),n=Hr(t,e),r=n!==0&&n!==50&&n!==100;return o.jsxs("div",{"data-tour":"progress-bar-step",className:be.progressBarContainer,children:[o.jsx("h3",{className:be.progressTitle,children:"Today"}),o.jsx("div",{className:be.progressBar,children:o.jsx("div",{className:be.progressBarFill,style:{width:`${n}%`},children:o.jsx("div",{className:be.progressIndicator})})}),r&&o.jsxs("div",{className:be.dynamicPercentageLabel,style:{left:`${n}%`},children:[n.toFixed(0),"%"]}),o.jsxs("ul",{className:be.percentageList,children:[o.jsx("li",{children:"0%"}),o.jsx("li",{children:"50%"}),o.jsx("li",{children:"100%"})]})]})},$n=()=>S.useContext(fr);function In(e){if(/^\d{2}\.\d{2}\.\d{4}$/.test(e))return e;const[t,n,r]=e.split("/"),a=n.padStart(2,"0"),i=t.padStart(2,"0");return`${a}.${i}.${r}`}const Qr="_amountTitle_177sn_1",Zr="_amountWrap_177sn_18",eo="_quantityBtn_177sn_26",to="_quantityIcon_177sn_43",no="_amountValue_177sn_73",ro="_valueDiv_177sn_88",oo="_labelTime_177sn_94",ao="_input_177sn_110",so="_labelVal_177sn_142",io="_btnSubmit_177sn_159",lo="_error_177sn_188",U={amountTitle:Qr,amountWrap:Zr,quantityBtn:eo,quantityIcon:to,amountValue:no,valueDiv:ro,labelTime:oo,input:ao,labelVal:so,btnSubmit:io,error:lo},co=Sn().shape({waterValue:ot().min(50,"The value must be at least 50 ml").max(1500,"The value must be at most 1500 ml").positive("The number must be a positive value").required("Value is required"),localTime:at().required("Time is required")}),uo=()=>{const e=new Date,t=e.getHours(),n=e.getMinutes();return t.toString().padStart(2,"0")+":"+n.toString().padStart(2,"0")},po=({mode:e,onClose:t,water:n={}})=>{const{register:r,handleSubmit:a,setValue:i,getValues:l,watch:s,formState:{errors:c}}=En({mode:"onChange",resolver:Bn(co),defaultValues:{waterValue:Number(n.amount)||50,localTime:n.time||uo()}}),p=A(On),d=me(),f=()=>{const y=l("waterValue");i("waterValue",y-50,50)},h=()=>{const y=l("waterValue");i("waterValue",y+50,1500)},v=()=>{const y={localDate:In(p),waterValue:s("waterValue"),localTime:s("localTime")};try{e==="add"?(d(mr(y)),Ee.success("The amount of water consumed has been added successfully.")):e==="edit"&&(d(vr({_id:n._id,...y})),Ee.success("The amount of water consumed has been successfully updated.")),t()}catch{Ee.error("Failed to save water data. Please try again.")}},w=()=>{const y=l("waterValue");y<50?i("waterValue",50):y>1500&&i("waterValue",1500)};return o.jsxs("form",{onSubmit:a(v),children:[o.jsx("p",{className:U.amountTitle,children:"Amount of water:"}),o.jsxs("div",{className:U.amountWrap,children:[o.jsx("button",{type:"button",className:U.quantityBtn,onClick:f,disabled:l("waterValue")===50,children:o.jsx("svg",{className:U.quantityIcon,children:o.jsx("use",{xlinkHref:`${R}#icon-minus-40x40`})})}),o.jsx("span",{className:U.amountValue,children:s("waterValue")>=999?`${(Math.round(s("waterValue")/1e3*100)/100).toFixed(2)} L`:`${s("waterValue")} ml`}),o.jsx("button",{type:"button",className:U.quantityBtn,onClick:h,disabled:l("waterValue")===1500,children:o.jsx("svg",{className:U.quantityIcon,children:o.jsx("use",{xlinkHref:`${R}#icon-plus-40x40`})})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:U.valueDiv,children:[o.jsx("label",{className:U.labelTime,htmlFor:"localTime",children:"Recording time:"}),o.jsx("input",{...r("localTime"),className:U.input,type:"time",name:"localTime",id:"localTime"}),c.localTime&&o.jsx("span",{className:U.error,children:c.localTime.message})]}),o.jsxs("div",{className:U.valueDiv,children:[o.jsx("label",{className:U.labelVal,htmlFor:"value",children:"Enter the value of the water used:"}),o.jsx("input",{...r("waterValue"),className:U.input,step:50,name:"value",id:"value",onChange:y=>i("waterValue",isNaN(y.target.value)?0:Math.max(Number(y.target.value),0)),onBlur:w}),c.waterValue&&o.jsx("span",{className:U.error,children:c.waterValue.message})]})]}),o.jsx("button",{className:U.btnSubmit,type:"submit",children:"Save"})]})},fo="_wrapModal_4ymbh_1",mo="_closeBtn_4ymbh_11",vo="_closeIcon_4ymbh_17",ho="_title_4ymbh_40",go="_subtitle_4ymbh_57",_e={wrapModal:fo,closeBtn:mo,closeIcon:vo,title:ho,subtitle:go},Wn=({isOpen:e,mode:t,onClose:n,water:r})=>{const a=t==="add"?o.jsx("h2",{className:_e.title,children:"Add Water"}):o.jsx("h2",{className:_e.title,children:"Edit the entered amount of water"}),i=t==="add"?o.jsx("p",{className:_e.subtitle,children:"Choose a value:"}):o.jsx("p",{className:_e.subtitle,children:"Correct entered data:"});return o.jsxs("div",{className:_e.wrapModal,children:[o.jsx("button",{type:"button",className:_e.closeBtn,onClick:n,children:o.jsx("svg",{className:_e.closeIcon,children:o.jsx("use",{xlinkHref:`${R}#icon-close-24x24`})})}),a,i,o.jsx(po,{mode:t,onClose:n,water:r})]})},yo="_btnContainer_1kn42_1",bo="_icon_1kn42_21",Qt={btnContainer:yo,icon:bo},An=({className:e,icon:t,iconClassName:n})=>{const r=$n(),a=S.useCallback(()=>{r()},[r]),i=S.useCallback(()=>{r(o.jsx(Wn,{onClose:a,operation:"add",mode:"add"}))},[r,a]);return o.jsx(o.Fragment,{children:o.jsxs("button",{"data-tour":"add-water-btn-step",type:"button",className:Jt(Qt.btnContainer,e),onClick:i,children:[o.jsx("svg",{className:Jt(Qt.icon,n),children:o.jsx("use",{href:t})}),"Add water"]})})},_o="_infoContainer_1x70r_1",xo="_addWaterBtn_1x70r_15",wo="_startTourBtn_1x70r_64",De={infoContainer:_o,addWaterBtn:xo,startTourBtn:wo},Oo=()=>{const{setIsOpen:e}=hr(),t=A(gr)||1.5;return o.jsxs("div",{className:De.infoContainer,children:[o.jsx("button",{className:De.startTourBtn,onClick:()=>e(!0),children:"Start tour"}),o.jsx(Ir,{className:De.logoContainer}),o.jsx(qr,{className:De.dailyNormaContainer,dailyNorm:t}),o.jsx(Gr,{className:De.progressBarContainer,dailyNorm:t}),o.jsx(An,{className:De.addWaterBtn,icon:`${R}#icon-plus16x16`})]})},No="_userBarBtn_139c8_1",jo="_iconArrowDown_139c8_21",Co="_iconArrowUp_139c8_25",To="_greetNameText_139c8_29",Do="_avatar_139c8_61",Re={userBarBtn:No,iconArrowDown:jo,iconArrowUp:Co,greetNameText:To,avatar:Do},Pn=S.forwardRef(({onClick:e,name:t,avatar:n,showPopover:r},a)=>o.jsxs("button",{"data-tour":"user-bar-step",className:Re.userBarBtn,ref:a,onClick:e,type:"button",children:[o.jsx("p",{className:Re.greetNameText,children:t}),o.jsx("img",{className:Re.avatar,src:n,width:"38",height:"38",alt:"User's avatar"}),r?o.jsx("svg",{width:"16",height:"16",children:o.jsx("use",{className:Re.iconArrowUp,xlinkHref:`${R}#icon-arrow-up-16x16`})}):o.jsx("svg",{width:"16",height:"16",children:o.jsx("use",{className:Re.iconArrowDown,xlinkHref:`${R}#icon-arrow-down-16x16`})})]}));Pn.displayName="UserBar";var Zt=function(t){return t.reduce(function(n,r){var a=r[0],i=r[1];return n[a]=i,n},{})},en=typeof window<"u"&&window.document&&window.document.createElement?S.useLayoutEffect:S.useEffect,Y="top",Z="bottom",ee="right",z="left",Et="auto",Xe=[Y,Z,ee,z],Be="start",Ye="end",Mo="clippingParents",kn="viewport",Le="popper",So="reference",tn=Xe.reduce(function(e,t){return e.concat([t+"-"+Be,t+"-"+Ye])},[]),Rn=[].concat(Xe,[Et]).reduce(function(e,t){return e.concat([t,t+"-"+Be,t+"-"+Ye])},[]),Eo="beforeRead",Bo="read",$o="afterRead",Io="beforeMain",Wo="main",Ao="afterMain",Po="beforeWrite",ko="write",Ro="afterWrite",Lo=[Eo,Bo,$o,Io,Wo,Ao,Po,ko,Ro];function ue(e){return e?(e.nodeName||"").toLowerCase():null}function J(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function je(e){var t=J(e).Element;return e instanceof t||e instanceof Element}function Q(e){var t=J(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Bt(e){if(typeof ShadowRoot>"u")return!1;var t=J(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Fo(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},a=t.attributes[n]||{},i=t.elements[n];!Q(i)||!ue(i)||(Object.assign(i.style,r),Object.keys(a).forEach(function(l){var s=a[l];s===!1?i.removeAttribute(l):i.setAttribute(l,s===!0?"":s)}))})}function qo(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var a=t.elements[r],i=t.attributes[r]||{},l=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),s=l.reduce(function(c,p){return c[p]="",c},{});!Q(a)||!ue(a)||(Object.assign(a.style,s),Object.keys(i).forEach(function(c){a.removeAttribute(c)}))})}}const Ho={name:"applyStyles",enabled:!0,phase:"write",fn:Fo,effect:qo,requires:["computeStyles"]};function ce(e){return e.split("-")[0]}var Oe=Math.max,it=Math.min,$e=Math.round;function Ot(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Ln(){return!/^((?!chrome|android).)*safari/i.test(Ot())}function Ie(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),a=1,i=1;t&&Q(e)&&(a=e.offsetWidth>0&&$e(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&$e(r.height)/e.offsetHeight||1);var l=je(e)?J(e):window,s=l.visualViewport,c=!Ln()&&n,p=(r.left+(c&&s?s.offsetLeft:0))/a,d=(r.top+(c&&s?s.offsetTop:0))/i,f=r.width/a,h=r.height/i;return{width:f,height:h,top:d,right:p+f,bottom:d+h,left:p,x:p,y:d}}function $t(e){var t=Ie(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Fn(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Bt(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function de(e){return J(e).getComputedStyle(e)}function Uo(e){return["table","td","th"].indexOf(ue(e))>=0}function ve(e){return((je(e)?e.ownerDocument:e.document)||window.document).documentElement}function dt(e){return ue(e)==="html"?e:e.assignedSlot||e.parentNode||(Bt(e)?e.host:null)||ve(e)}function nn(e){return!Q(e)||de(e).position==="fixed"?null:e.offsetParent}function Vo(e){var t=/firefox/i.test(Ot()),n=/Trident/i.test(Ot());if(n&&Q(e)){var r=de(e);if(r.position==="fixed")return null}var a=dt(e);for(Bt(a)&&(a=a.host);Q(a)&&["html","body"].indexOf(ue(a))<0;){var i=de(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function Ge(e){for(var t=J(e),n=nn(e);n&&Uo(n)&&de(n).position==="static";)n=nn(n);return n&&(ue(n)==="html"||ue(n)==="body"&&de(n).position==="static")?t:n||Vo(e)||t}function It(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function qe(e,t,n){return Oe(e,it(t,n))}function Yo(e,t,n){var r=qe(e,t,n);return r>n?n:r}function qn(){return{top:0,right:0,bottom:0,left:0}}function Hn(e){return Object.assign({},qn(),e)}function Un(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var zo=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Hn(typeof t!="number"?t:Un(t,Xe))};function Ko(e){var t,n=e.state,r=e.name,a=e.options,i=n.elements.arrow,l=n.modifiersData.popperOffsets,s=ce(n.placement),c=It(s),p=[z,ee].indexOf(s)>=0,d=p?"height":"width";if(!(!i||!l)){var f=zo(a.padding,n),h=$t(i),v=c==="y"?Y:z,w=c==="y"?Z:ee,y=n.rects.reference[d]+n.rects.reference[c]-l[c]-n.rects.popper[d],N=l[c]-n.rects.reference[c],b=Ge(i),C=b?c==="y"?b.clientHeight||0:b.clientWidth||0:0,_=y/2-N/2,g=f[v],D=C-h[d]-f[w],M=C/2-h[d]/2+_,B=qe(g,M,D),P=c;n.modifiersData[r]=(t={},t[P]=B,t.centerOffset=B-M,t)}}function Jo(e){var t=e.state,n=e.options,r=n.element,a=r===void 0?"[data-popper-arrow]":r;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||Fn(t.elements.popper,a)&&(t.elements.arrow=a))}const Xo={name:"arrow",enabled:!0,phase:"main",fn:Ko,effect:Jo,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function We(e){return e.split("-")[1]}var Go={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Qo(e,t){var n=e.x,r=e.y,a=t.devicePixelRatio||1;return{x:$e(n*a)/a||0,y:$e(r*a)/a||0}}function rn(e){var t,n=e.popper,r=e.popperRect,a=e.placement,i=e.variation,l=e.offsets,s=e.position,c=e.gpuAcceleration,p=e.adaptive,d=e.roundOffsets,f=e.isFixed,h=l.x,v=h===void 0?0:h,w=l.y,y=w===void 0?0:w,N=typeof d=="function"?d({x:v,y}):{x:v,y};v=N.x,y=N.y;var b=l.hasOwnProperty("x"),C=l.hasOwnProperty("y"),_=z,g=Y,D=window;if(p){var M=Ge(n),B="clientHeight",P="clientWidth";if(M===J(n)&&(M=ve(n),de(M).position!=="static"&&s==="absolute"&&(B="scrollHeight",P="scrollWidth")),M=M,a===Y||(a===z||a===ee)&&i===Ye){g=Z;var I=f&&M===D&&D.visualViewport?D.visualViewport.height:M[B];y-=I-r.height,y*=c?1:-1}if(a===z||(a===Y||a===Z)&&i===Ye){_=ee;var k=f&&M===D&&D.visualViewport?D.visualViewport.width:M[P];v-=k-r.width,v*=c?1:-1}}var q=Object.assign({position:s},p&&Go),H=d===!0?Qo({x:v,y},J(n)):{x:v,y};if(v=H.x,y=H.y,c){var L;return Object.assign({},q,(L={},L[g]=C?"0":"",L[_]=b?"0":"",L.transform=(D.devicePixelRatio||1)<=1?"translate("+v+"px, "+y+"px)":"translate3d("+v+"px, "+y+"px, 0)",L))}return Object.assign({},q,(t={},t[g]=C?y+"px":"",t[_]=b?v+"px":"",t.transform="",t))}function Zo(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=r===void 0?!0:r,i=n.adaptive,l=i===void 0?!0:i,s=n.roundOffsets,c=s===void 0?!0:s,p={placement:ce(t.placement),variation:We(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,rn(Object.assign({},p,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,rn(Object.assign({},p,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const ea={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Zo,data:{}};var tt={passive:!0};function ta(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,i=a===void 0?!0:a,l=r.resize,s=l===void 0?!0:l,c=J(t.elements.popper),p=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&p.forEach(function(d){d.addEventListener("scroll",n.update,tt)}),s&&c.addEventListener("resize",n.update,tt),function(){i&&p.forEach(function(d){d.removeEventListener("scroll",n.update,tt)}),s&&c.removeEventListener("resize",n.update,tt)}}const na={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ta,data:{}};var ra={left:"right",right:"left",bottom:"top",top:"bottom"};function st(e){return e.replace(/left|right|bottom|top/g,function(t){return ra[t]})}var oa={start:"end",end:"start"};function on(e){return e.replace(/start|end/g,function(t){return oa[t]})}function Wt(e){var t=J(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function At(e){return Ie(ve(e)).left+Wt(e).scrollLeft}function aa(e,t){var n=J(e),r=ve(e),a=n.visualViewport,i=r.clientWidth,l=r.clientHeight,s=0,c=0;if(a){i=a.width,l=a.height;var p=Ln();(p||!p&&t==="fixed")&&(s=a.offsetLeft,c=a.offsetTop)}return{width:i,height:l,x:s+At(e),y:c}}function sa(e){var t,n=ve(e),r=Wt(e),a=(t=e.ownerDocument)==null?void 0:t.body,i=Oe(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),l=Oe(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),s=-r.scrollLeft+At(e),c=-r.scrollTop;return de(a||n).direction==="rtl"&&(s+=Oe(n.clientWidth,a?a.clientWidth:0)-i),{width:i,height:l,x:s,y:c}}function Pt(e){var t=de(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function Vn(e){return["html","body","#document"].indexOf(ue(e))>=0?e.ownerDocument.body:Q(e)&&Pt(e)?e:Vn(dt(e))}function He(e,t){var n;t===void 0&&(t=[]);var r=Vn(e),a=r===((n=e.ownerDocument)==null?void 0:n.body),i=J(r),l=a?[i].concat(i.visualViewport||[],Pt(r)?r:[]):r,s=t.concat(l);return a?s:s.concat(He(dt(l)))}function Nt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ia(e,t){var n=Ie(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function an(e,t,n){return t===kn?Nt(aa(e,n)):je(t)?ia(t,n):Nt(sa(ve(e)))}function la(e){var t=He(dt(e)),n=["absolute","fixed"].indexOf(de(e).position)>=0,r=n&&Q(e)?Ge(e):e;return je(r)?t.filter(function(a){return je(a)&&Fn(a,r)&&ue(a)!=="body"}):[]}function ca(e,t,n,r){var a=t==="clippingParents"?la(e):[].concat(t),i=[].concat(a,[n]),l=i[0],s=i.reduce(function(c,p){var d=an(e,p,r);return c.top=Oe(d.top,c.top),c.right=it(d.right,c.right),c.bottom=it(d.bottom,c.bottom),c.left=Oe(d.left,c.left),c},an(e,l,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Yn(e){var t=e.reference,n=e.element,r=e.placement,a=r?ce(r):null,i=r?We(r):null,l=t.x+t.width/2-n.width/2,s=t.y+t.height/2-n.height/2,c;switch(a){case Y:c={x:l,y:t.y-n.height};break;case Z:c={x:l,y:t.y+t.height};break;case ee:c={x:t.x+t.width,y:s};break;case z:c={x:t.x-n.width,y:s};break;default:c={x:t.x,y:t.y}}var p=a?It(a):null;if(p!=null){var d=p==="y"?"height":"width";switch(i){case Be:c[p]=c[p]-(t[d]/2-n[d]/2);break;case Ye:c[p]=c[p]+(t[d]/2-n[d]/2);break}}return c}function ze(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=r===void 0?e.placement:r,i=n.strategy,l=i===void 0?e.strategy:i,s=n.boundary,c=s===void 0?Mo:s,p=n.rootBoundary,d=p===void 0?kn:p,f=n.elementContext,h=f===void 0?Le:f,v=n.altBoundary,w=v===void 0?!1:v,y=n.padding,N=y===void 0?0:y,b=Hn(typeof N!="number"?N:Un(N,Xe)),C=h===Le?So:Le,_=e.rects.popper,g=e.elements[w?C:h],D=ca(je(g)?g:g.contextElement||ve(e.elements.popper),c,d,l),M=Ie(e.elements.reference),B=Yn({reference:M,element:_,strategy:"absolute",placement:a}),P=Nt(Object.assign({},_,B)),I=h===Le?P:M,k={top:D.top-I.top+b.top,bottom:I.bottom-D.bottom+b.bottom,left:D.left-I.left+b.left,right:I.right-D.right+b.right},q=e.modifiersData.offset;if(h===Le&&q){var H=q[a];Object.keys(k).forEach(function(L){var j=[ee,Z].indexOf(L)>=0?1:-1,O=[Y,Z].indexOf(L)>=0?"y":"x";k[L]+=H[O]*j})}return k}function ua(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=n.boundary,i=n.rootBoundary,l=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,p=c===void 0?Rn:c,d=We(r),f=d?s?tn:tn.filter(function(w){return We(w)===d}):Xe,h=f.filter(function(w){return p.indexOf(w)>=0});h.length===0&&(h=f);var v=h.reduce(function(w,y){return w[y]=ze(e,{placement:y,boundary:a,rootBoundary:i,padding:l})[ce(y)],w},{});return Object.keys(v).sort(function(w,y){return v[w]-v[y]})}function da(e){if(ce(e)===Et)return[];var t=st(e);return[on(e),t,on(t)]}function pa(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,i=a===void 0?!0:a,l=n.altAxis,s=l===void 0?!0:l,c=n.fallbackPlacements,p=n.padding,d=n.boundary,f=n.rootBoundary,h=n.altBoundary,v=n.flipVariations,w=v===void 0?!0:v,y=n.allowedAutoPlacements,N=t.options.placement,b=ce(N),C=b===N,_=c||(C||!w?[st(N)]:da(N)),g=[N].concat(_).reduce(function(te,se){return te.concat(ce(se)===Et?ua(t,{placement:se,boundary:d,rootBoundary:f,padding:p,flipVariations:w,allowedAutoPlacements:y}):se)},[]),D=t.rects.reference,M=t.rects.popper,B=new Map,P=!0,I=g[0],k=0;k<g.length;k++){var q=g[k],H=ce(q),L=We(q)===Be,j=[Y,Z].indexOf(H)>=0,O=j?"width":"height",E=ze(t,{placement:q,boundary:d,rootBoundary:f,altBoundary:h,padding:p}),u=j?L?ee:z:L?Z:Y;D[O]>M[O]&&(u=st(u));var x=st(u),$=[];if(i&&$.push(E[H]<=0),s&&$.push(E[u]<=0,E[x]<=0),$.every(function(te){return te})){I=q,P=!1;break}B.set(q,$)}if(P)for(var F=w?3:1,W=function(se){var he=g.find(function(Te){var ge=B.get(Te);if(ge)return ge.slice(0,se).every(function(mt){return mt})});if(he)return I=he,"break"},K=F;K>0;K--){var X=W(K);if(X==="break")break}t.placement!==I&&(t.modifiersData[r]._skip=!0,t.placement=I,t.reset=!0)}}const fa={name:"flip",enabled:!0,phase:"main",fn:pa,requiresIfExists:["offset"],data:{_skip:!1}};function sn(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ln(e){return[Y,ee,Z,z].some(function(t){return e[t]>=0})}function ma(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,l=ze(t,{elementContext:"reference"}),s=ze(t,{altBoundary:!0}),c=sn(l,r),p=sn(s,a,i),d=ln(c),f=ln(p);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:p,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const va={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ma};function ha(e,t,n){var r=ce(e),a=[z,Y].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,l=i[0],s=i[1];return l=l||0,s=(s||0)*a,[z,ee].indexOf(r)>=0?{x:s,y:l}:{x:l,y:s}}function ga(e){var t=e.state,n=e.options,r=e.name,a=n.offset,i=a===void 0?[0,0]:a,l=Rn.reduce(function(d,f){return d[f]=ha(f,t.rects,i),d},{}),s=l[t.placement],c=s.x,p=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=p),t.modifiersData[r]=l}const ya={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ga};function ba(e){var t=e.state,n=e.name;t.modifiersData[n]=Yn({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const _a={name:"popperOffsets",enabled:!0,phase:"read",fn:ba,data:{}};function xa(e){return e==="x"?"y":"x"}function wa(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,i=a===void 0?!0:a,l=n.altAxis,s=l===void 0?!1:l,c=n.boundary,p=n.rootBoundary,d=n.altBoundary,f=n.padding,h=n.tether,v=h===void 0?!0:h,w=n.tetherOffset,y=w===void 0?0:w,N=ze(t,{boundary:c,rootBoundary:p,padding:f,altBoundary:d}),b=ce(t.placement),C=We(t.placement),_=!C,g=It(b),D=xa(g),M=t.modifiersData.popperOffsets,B=t.rects.reference,P=t.rects.popper,I=typeof y=="function"?y(Object.assign({},t.rects,{placement:t.placement})):y,k=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),q=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,H={x:0,y:0};if(M){if(i){var L,j=g==="y"?Y:z,O=g==="y"?Z:ee,E=g==="y"?"height":"width",u=M[g],x=u+N[j],$=u-N[O],F=v?-P[E]/2:0,W=C===Be?B[E]:P[E],K=C===Be?-P[E]:-B[E],X=t.elements.arrow,te=v&&X?$t(X):{width:0,height:0},se=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:qn(),he=se[j],Te=se[O],ge=qe(0,B[E],te[E]),mt=_?B[E]/2-F-ge-he-k.mainAxis:W-ge-he-k.mainAxis,sr=_?-B[E]/2+F+ge+Te+k.mainAxis:K+ge+Te+k.mainAxis,vt=t.elements.arrow&&Ge(t.elements.arrow),ir=vt?g==="y"?vt.clientTop||0:vt.clientLeft||0:0,Lt=(L=q==null?void 0:q[g])!=null?L:0,lr=u+mt-Lt-ir,cr=u+sr-Lt,Ft=qe(v?it(x,lr):x,u,v?Oe($,cr):$);M[g]=Ft,H[g]=Ft-u}if(s){var qt,ur=g==="x"?Y:z,dr=g==="x"?Z:ee,ye=M[D],et=D==="y"?"height":"width",Ht=ye+N[ur],Ut=ye-N[dr],ht=[Y,z].indexOf(b)!==-1,Vt=(qt=q==null?void 0:q[D])!=null?qt:0,Yt=ht?Ht:ye-B[et]-P[et]-Vt+k.altAxis,zt=ht?ye+B[et]+P[et]-Vt-k.altAxis:Ut,Kt=v&&ht?Yo(Yt,ye,zt):qe(v?Yt:Ht,ye,v?zt:Ut);M[D]=Kt,H[D]=Kt-ye}t.modifiersData[r]=H}}const Oa={name:"preventOverflow",enabled:!0,phase:"main",fn:wa,requiresIfExists:["offset"]};function Na(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function ja(e){return e===J(e)||!Q(e)?Wt(e):Na(e)}function Ca(e){var t=e.getBoundingClientRect(),n=$e(t.width)/e.offsetWidth||1,r=$e(t.height)/e.offsetHeight||1;return n!==1||r!==1}function Ta(e,t,n){n===void 0&&(n=!1);var r=Q(t),a=Q(t)&&Ca(t),i=ve(t),l=Ie(e,a,n),s={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((ue(t)!=="body"||Pt(i))&&(s=ja(t)),Q(t)?(c=Ie(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=At(i))),{x:l.left+s.scrollLeft-c.x,y:l.top+s.scrollTop-c.y,width:l.width,height:l.height}}function Da(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function a(i){n.add(i.name);var l=[].concat(i.requires||[],i.requiresIfExists||[]);l.forEach(function(s){if(!n.has(s)){var c=t.get(s);c&&a(c)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||a(i)}),r}function Ma(e){var t=Da(e);return Lo.reduce(function(n,r){return n.concat(t.filter(function(a){return a.phase===r}))},[])}function Sa(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Ea(e){var t=e.reduce(function(n,r){var a=n[r.name];return n[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var cn={placement:"bottom",modifiers:[],strategy:"absolute"};function un(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Ba(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,a=t.defaultOptions,i=a===void 0?cn:a;return function(s,c,p){p===void 0&&(p=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},cn,i),modifiersData:{},elements:{reference:s,popper:c},attributes:{},styles:{}},f=[],h=!1,v={state:d,setOptions:function(b){var C=typeof b=="function"?b(d.options):b;y(),d.options=Object.assign({},i,d.options,C),d.scrollParents={reference:je(s)?He(s):s.contextElement?He(s.contextElement):[],popper:He(c)};var _=Ma(Ea([].concat(r,d.options.modifiers)));return d.orderedModifiers=_.filter(function(g){return g.enabled}),w(),v.update()},forceUpdate:function(){if(!h){var b=d.elements,C=b.reference,_=b.popper;if(un(C,_)){d.rects={reference:Ta(C,Ge(_),d.options.strategy==="fixed"),popper:$t(_)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(k){return d.modifiersData[k.name]=Object.assign({},k.data)});for(var g=0;g<d.orderedModifiers.length;g++){if(d.reset===!0){d.reset=!1,g=-1;continue}var D=d.orderedModifiers[g],M=D.fn,B=D.options,P=B===void 0?{}:B,I=D.name;typeof M=="function"&&(d=M({state:d,options:P,name:I,instance:v})||d)}}}},update:Sa(function(){return new Promise(function(N){v.forceUpdate(),N(d)})}),destroy:function(){y(),h=!0}};if(!un(s,c))return v;v.setOptions(p).then(function(N){!h&&p.onFirstUpdate&&p.onFirstUpdate(N)});function w(){d.orderedModifiers.forEach(function(N){var b=N.name,C=N.options,_=C===void 0?{}:C,g=N.effect;if(typeof g=="function"){var D=g({state:d,name:b,instance:v,options:_}),M=function(){};f.push(D||M)}})}function y(){f.forEach(function(N){return N()}),f=[]}return v}}var $a=[na,_a,ea,Ho,ya,fa,Oa,Xo,va],Ia=Ba({defaultModifiers:$a}),Wa=[],Aa=function(t,n,r){r===void 0&&(r={});var a=S.useRef(null),i={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||Wa},l=S.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=l[0],c=l[1],p=S.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(v){var w=v.state,y=Object.keys(w.elements);Nn.flushSync(function(){c({styles:Zt(y.map(function(N){return[N,w.styles[N]||{}]})),attributes:Zt(y.map(function(N){return[N,w.attributes[N]]}))})})},requires:["computeStyles"]}},[]),d=S.useMemo(function(){var h={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[p,{name:"applyStyles",enabled:!1}])};return yr(a.current,h)?a.current||h:(a.current=h,h)},[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,p]),f=S.useRef();return en(function(){f.current&&f.current.setOptions(d)},[d]),en(function(){if(!(t==null||n==null)){var h=r.createPopper||Ia,v=h(t,n,d);return f.current=v,function(){v.destroy(),f.current=null}}},[t,n,r.createPopper]),{state:f.current?f.current.state:null,styles:s.styles,attributes:s.attributes,update:f.current?f.current.update:null,forceUpdate:f.current?f.current.forceUpdate:null}},Pa=function(){},ka=Pa;const Ra="_popover_c8x1s_1",La={popover:Ra},Fa=({showPopover:e,referenceElement:t,children:n})=>{const[r,a]=S.useState(!1),{styles:i,attributes:l}=Aa(t,r,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,8]}}]});return e?o.jsx(o.Fragment,{children:e&&o.jsx("div",{ref:a,className:La.popover,style:i.popper,...l.popper,children:n})}):null},qa="_logOutModalContainer_1vxli_1",Ha="_logOutModalTextContainer_1vxli_19",Ua="_logOutModalButtonsContainer_1vxli_25",Va="_logOutButton_1vxli_30",Ya="_logOutModalCancelButton_1vxli_55",za="_logOutModalCloseButton_1vxli_74",Ka="_logOutModalTitle_1vxli_83",Ja="_logOutModalText_1vxli_19",pe={logOutModalContainer:qa,logOutModalTextContainer:Ha,logOutModalButtonsContainer:Ua,logOutButton:Va,logOutModalCancelButton:Ya,logOutModalCloseButton:za,logOutModalTitle:Ka,logOutModalText:Ja},Xa=({closeModal:e})=>{const t=me(),n=br(),r=async()=>{try{e(),await t(_r()).unwrap(),n("/"),Ee.success("You are successfully logged out!",{duration:4e3,position:"top-center",style:{textAlign:"center",boxShadow:"8px 11px 27px -8px rgba(66, 68, 90, 1)"}})}catch(c){console.log(c)}},[a,i]=S.useState("icon-close-24x24"),l=S.useRef(null),s=()=>{const c=l.current;if(c){const p=window.innerWidth;let d=24,f="icon-close-24x24";p>=768&&(d=28,f="icon-close-28x28"),c.setAttribute("width",d),c.setAttribute("height",d),a!==f&&i(f)}};return S.useEffect(()=>(s(),window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}),[]),o.jsxs("div",{className:pe.logOutModalContainer,children:[o.jsx("button",{className:pe.logOutModalCloseButton,type:"button",onClick:e,children:o.jsx("svg",{ref:l,children:o.jsx("use",{xlinkHref:`${R}#${a}`})})}),o.jsxs("div",{className:pe.logOutModalTextContainer,children:[o.jsx("h4",{className:pe.logOutModalTitle,children:"Log out"}),o.jsx("p",{className:pe.logOutModalText,children:" Do you really want to leave?"})]}),o.jsxs("div",{className:pe.logOutModalButtonsContainer,children:[o.jsx("button",{className:pe.logOutButton,onClick:r,children:"Log out"}),o.jsx("button",{className:pe.logOutModalCancelButton,onClick:e,children:"Cancel"})]})]})},Ga=Sn().shape({name:at().required("Please enter your name!").min(2,"Name must be at least 2 characters long.").max(20,"Name must be less than 20 characters long."),email:at().required("Please enter your email address.").matches(/^[^@]+@[^@]+\.[^@]+$/,"Please enter a valid email address.").email("Invalid email."),gender:at().oneOf(["woman","man",""],'Gender must be either "woman" or "man".'),weight:ot().typeError("Weight must be a number.").min(0,"Weight must be a positive number.").max(180,"Weight must be less than or equal to 180 kg."),sportTime:ot().typeError("Active sport time must be a number.").min(0,"Active sport time must be a positive number.").max(14,"Active sport time must be less than or equal to 14 hours."),waterNorma:ot().typeError("Daily water consumption must be a number.").positive("Daily water consumption must be a positive number.").max(15,"Daily water consumption must be less than or equal to 15 l.")}),Qa="_formWrapper_qeuro_1",Za="_imageWrapper_qeuro_5",es="_imagecontainer_qeuro_14",ts="_image_qeuro_5",ns="_upload_qeuro_26",rs="_imageInput_qeuro_33",os="_uploadIcon_qeuro_37",as="_text_qeuro_45",ss="_inputTitle_qeuro_54",is="_genderInputWrapper_qeuro_65",ls="_genderButton_qeuro_72",cs="_genderInput_qeuro_65",us="_iconWrapper_qeuro_83",ds="_userInroWrapper_qeuro_98",ps="_userInputWrap_qeuro_106",fs="_userInputTitle_qeuro_111",ms="_userInput_qeuro_106",vs="_error_qeuro_130",hs="_dailyNormaWrap_qeuro_135",gs="_dailyInfoWrapper_qeuro_139",ys="_accentText_qeuro_147",bs="_waterInfo_qeuro_155",_s="_activityWrapper_qeuro_164",xs="_iconImportant_qeuro_169",ws="_waterNormaWrapper_qeuro_173",Os="_calcInput_qeuro_180",Ns="_amountWrap_qeuro_184",js="_accentTextL_qeuro_188",Cs="_submitButton_qeuro_195",Ts="_flexWrap_qeuro_266",Ds="_formFlexWrapper_qeuro_307",Ms="_formFlexItem_qeuro_312",m={formWrapper:Qa,imageWrapper:Za,imagecontainer:es,image:ts,upload:ns,imageInput:rs,uploadIcon:os,text:as,inputTitle:ss,genderInputWrapper:is,genderButton:ls,genderInput:cs,iconWrapper:us,userInroWrapper:ds,userInputWrap:ps,userInputTitle:fs,userInput:ms,error:vs,dailyNormaWrap:hs,dailyInfoWrapper:gs,accentText:ys,waterInfo:bs,activityWrapper:_s,iconImportant:xs,waterNormaWrapper:ws,calcInput:Os,amountWrap:Ns,accentTextL:js,submitButton:Cs,flexWrap:Ts,formFlexWrapper:Ds,formFlexItem:Ms},Ss=({onClose:e})=>{const t=me(),n=A(St),r=A(xr),a=S.useRef(null),[i,l]=S.useState(r);S.useEffect(()=>{r&&l(r)},[r]);const s=_=>{const g=_.target.files[0];if(g){const D=URL.createObjectURL(g);l(D)}},{register:c,handleSubmit:p,formState:{errors:d},watch:f,trigger:h,setValue:v,getValues:w}=En({resolver:Bn(Ga),defaultValues:{name:n==null?void 0:n.name,email:n==null?void 0:n.email,gender:(n==null?void 0:n.gender)||"woman",weight:(n==null?void 0:n.weight)||0,sportTime:(n==null?void 0:n.sportTime)||0,waterNorma:(n==null?void 0:n.waterNorma)||""}}),y=f("gender"),N=_=>{const g=parseFloat(f("weight"))||0,D=parseFloat(f("sportTime"))||0,M={woman:{weight:.03,sport:.4},man:{weight:.04,sport:.6}};if(_&&M[_]){const{weight:B,sport:P}=M[_];return(g*B+D*P).toFixed(1)}return 0},b=(_,g)=>{w(_)===""&&v(_,g)},C=async _=>{try{const g=new FormData;g.append("name",_.name),g.append("email",_.email),g.append("gender",_.gender),g.append("weight",_.weight),g.append("sportTime",_.sportTime),g.append("waterNorma",_.waterNorma),a.current.files[0]&&g.append("avatar",a.current.files[0]),e(),await t(wr(g)).unwrap(),Xt.success("We successfully updated your data on server",{autoClose:5e3})}catch(g){console.log(g),Xt.error(`Something went wrong. During sending your data to server. Error: ${g.message}`,{duration:8e3})}};return o.jsxs("form",{onSubmit:p(C),children:[o.jsxs("div",{className:m.imageWrapper,children:[o.jsx("div",{className:m.imageContainer,children:o.jsx("img",{className:m.image,src:i,alt:"User avatar",width:"75",height:"75"})}),o.jsxs("label",{className:m.upload,children:[o.jsx("input",{className:m.imageInput,type:"file",accept:"image/*",onChange:s,ref:a}),o.jsx("svg",{className:m.uploadIcon,width:"18",height:"18",children:o.jsx("use",{xlinkHref:`${R}#icon-upload-18x18`})}),o.jsx("p",{className:m.text,children:"Upload a photo"})]})]}),o.jsxs("div",{className:m.formWrapper,children:[o.jsxs("div",{children:[o.jsx("h2",{className:m.inputTitle,children:"Your gender identity"}),o.jsxs("div",{className:m.genderInputWrapper,children:[o.jsxs("label",{className:`${m.genderButton} ${m.text}`,children:[o.jsx("input",{className:m.genderInput,type:"radio",name:"gender",value:"woman",...c("gender")}),d.gender&&o.jsx("p",{className:m.error,children:d.gender.message}),o.jsx("span",{className:m.iconWrapper,children:o.jsx("svg",{className:m.radioIcon,width:"18",height:"18",children:o.jsx("use",{xlinkHref:`${R}#icon-checkbox-${y==="woman"?"checked":"unchecked"}`})})}),"Woman"]}),o.jsxs("label",{className:`${m.genderButton} ${m.text}`,children:[o.jsx("input",{className:m.genderInput,type:"radio",name:"gender",value:"man",...c("gender")}),d.gender&&o.jsx("p",{className:m.error,children:d.gender.message}),o.jsx("span",{className:m.iconWrapper,children:o.jsx("svg",{className:m.radioIcon,width:"18",height:"18",children:o.jsx("use",{xlinkHref:`${R}#icon-checkbox-${y==="man"?"checked":"unchecked"}`})})}),"Man"]})]})]}),o.jsxs("div",{className:m.formFlexWrapper,children:[o.jsxs("div",{className:m.formFlexItem,children:[o.jsxs("div",{className:m.userInroWrapper,children:[o.jsxs("div",{className:m.userInputWrap,children:[o.jsx("label",{className:m.userInputTitle,htmlFor:"name",children:"Your name"}),o.jsx("input",{className:`${m.userInput} ${m.text} ${d.name?m.error:""}`,type:"text",name:"name",id:"name",...c("name"),onBlur:()=>h("name")}),d.name&&o.jsx("p",{className:m.error,children:d.name.message})]}),o.jsxs("div",{className:m.userInputWrap,children:[o.jsx("label",{className:m.userInputTitle,htmlFor:"email",children:"Email"}),o.jsx("input",{className:`${m.userInput} ${m.text} ${d.email?m.error:""}`,type:"text",name:"email",id:"email",...c("email"),onBlur:()=>h("email")}),d.email&&o.jsx("p",{className:m.error,children:d.email.message})]})]}),o.jsxs("div",{className:m.dailyNormaWrap,children:[o.jsx("h2",{className:m.inputTitle,children:"My daily norma"}),o.jsxs("div",{className:m.flexWrap,children:[o.jsxs("div",{className:m.dailyInfoWrapper,children:[o.jsx("h3",{className:m.text,children:"For woman:"}),o.jsx("p",{className:m.accentText,children:"V=(M*0,03) + (T*0,4)"})]}),o.jsxs("div",{className:m.dailyInfoWrapper,children:[o.jsx("h3",{className:m.text,children:"For man:"}),o.jsx("p",{className:m.accentText,children:"V=(M*0,04) + (T*0,6)"})]})]}),o.jsxs("div",{children:[o.jsxs("p",{className:`${m.text} ${m.waterInfo}`,children:[o.jsx("span",{className:m.accentText,children:"*"})," V is the volume of the water norm in liters per day, M is your body weight, T is the time of active sports, or another type of activity commensurate in terms of loads (in the absence of these, you must set 0)"]}),o.jsxs("div",{className:m.activityWrapper,children:[o.jsx("svg",{className:m.iconImportant,width:"18",height:"18",children:o.jsx("use",{xlinkHref:`${R}#icon-important`})}),o.jsx("p",{className:m.text,children:"Active time in hours"})]})]})]})]}),o.jsxs("div",{className:m.formFlexItem,children:[o.jsxs("div",{className:m.waterNormaWrapper,children:[o.jsxs("div",{className:m.userInputWrap,children:[o.jsx("label",{className:`${m.text} ${m.calcInput}`,htmlFor:"weight",children:"Your weight in kilograms:"}),o.jsx("input",{className:`${m.userInput} ${m.text} ${d.weight?m.error:""}`,name:"weight",id:"weight",step:.1,...c("weight"),onBlur:()=>b("weight",0)}),d.weight&&o.jsx("p",{className:m.error,children:d.weight.message})]}),o.jsxs("div",{className:m.userInputWrap,children:[o.jsx("label",{className:`${m.text} ${m.calcInput}`,htmlFor:"sportTime",children:"The time of active participation in sports:"}),o.jsx("input",{className:`${m.userInput} ${m.text} ${d.sportTime?m.error:""}`,id:"sportTime",name:"sportTime",step:.1,...c("sportTime"),onBlur:()=>b("sportTime",0)}),d.sportTime&&o.jsx("p",{className:m.error,children:d.sportTime.message})]})]}),o.jsx("div",{className:m.amountWrap,children:o.jsxs("h3",{className:m.text,children:["The required amount of water in liters per day:"," ",o.jsxs("span",{className:m.accentTextL,children:[N(y)," L"]})]})}),o.jsxs("div",{className:m.userInputWrap,children:[o.jsx("label",{className:m.userInputTitle,htmlFor:"waterNorma",children:"Write down how much water you will drink:"}),o.jsx("input",{className:`${m.userInput} ${m.text} ${d.waterNorma?m.error:""}`,name:"waterNorma",id:"waterNorma",step:.1,...c("waterNorma"),onBlur:()=>h("waterNorma")}),d.waterNorma&&o.jsx("p",{className:m.error,children:d.waterNorma.message})]})]})]})]}),o.jsx("button",{className:`${m.submitButton} ${m.text}`,type:"submit",children:"Save"})]})},Es="_modalWrapper_1xrfb_1",Bs="_modalTitle_1xrfb_32",$s="_modalCloseButton_1xrfb_42",Is="_closeIcon_1xrfb_55",nt={modalWrapper:Es,modalTitle:Bs,modalCloseButton:$s,closeIcon:Is},Ws=({onClose:e})=>o.jsxs("div",{className:nt.modalWrapper,children:[o.jsx("h2",{className:nt.modalTitle,children:"Setting"}),o.jsx("button",{className:nt.modalCloseButton,type:"button",onClick:e,children:o.jsx("svg",{className:nt.closeIcon,width:"24",height:"24",children:o.jsx("use",{xlinkHref:`${R}#icon-close-24x24`})})}),o.jsx(Ss,{onClose:e})]}),As="_greeting_1rsz3_1",Ps="_greetName_1rsz3_22",ks="_popoverBtn_1rsz3_26",Rs="_logoutBtn_1rsz3_39",Ls="_iconLogout_1rsz3_54",Fs="_iconSettings_1rsz3_63",qs="_tabletThumb_1rsz3_76",xe={greeting:As,greetName:Ps,popoverBtn:ks,logoutBtn:Rs,iconLogout:Ls,iconSettings:Fs,tabletThumb:qs},Hs=()=>{const e=A(St),[t,n]=S.useState(!1),r=S.useRef(null),a=()=>{n(f=>!f)},i=f=>{r.current&&!r.current.contains(f.target)&&!f.target.closest(".popoverBtn")&&!f.target.closest("[data-logout-button]")&&!f.target.closest("[data-setting-button]")&&n(!1)};S.useEffect(()=>(t?document.addEventListener("mousedown",i):document.removeEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}),[t]);const l=$n(),s=S.useCallback(()=>{l()},[l]),c=S.useCallback(()=>{l(o.jsx(Xa,{closeModal:s}))},[l,s]),p=S.useCallback(()=>{l()},[l]),d=S.useCallback(()=>{l(o.jsx(Ws,{onClose:p}))},[l,p]);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:xe.tabletThumb,children:[o.jsxs("h2",{className:xe.greeting,children:["Hello, ",o.jsxs("span",{className:xe.greetName,children:[e==null?void 0:e.name,"!"]})]}),o.jsx(Pn,{ref:r,onClick:a,name:e==null?void 0:e.name,avatar:e==null?void 0:e.avatar,showPopover:t})]}),t&&o.jsxs(Fa,{showPopover:t,referenceElement:r.current,children:[o.jsxs("button",{className:xe.popoverBtn,type:"button",onClick:d,"data-setting-button":!0,children:[o.jsx("svg",{width:"16",height:"16",children:o.jsx("use",{className:xe.iconSettings,xlinkHref:`${R}#icon-settings`})}),"Setting"]}),o.jsxs("button",{className:xe.logoutBtn,type:"button",onClick:c,"data-logout-button":!0,children:[o.jsx("svg",{width:"16",height:"16",children:o.jsx("use",{className:xe.iconLogout,xlinkHref:`${R}#icon-log-out-16x16`})}),"Log out"]})]})]})},Us="_wrapper_1u9j4_1",Vs="_addBtn_1u9j4_8",Ys="_icon_1u9j4_29",yt={wrapper:Us,addBtn:Vs,icon:Ys},zs="_date_1nme4_1",Ks={date:zs};function Js(){const e=A(On),t=()=>{const l=Date.now();return new Date(l).toLocaleDateString().replace(/\//g,".")};let n;n=e.replace(/\//g,".").split(".")[0];const r=["January","February","March","April","May","June","July","August","September","October","November","December"],a=r[+e.split("/")[1]-1],i=r[+e.split(".")[1]-1];return o.jsx(o.Fragment,{children:o.jsx("h2",{className:Ks.date,children:e.replace(/\//g,".")===t()?"Today":`${n}, ${a||i}`})})}const Xs=()=>{const e=A(Or),t=A(jn),n=A(Nr),r=A(Cn);return{error:e,isLoading:t,waterPerDay:n,waterPerMonth:r}},Gs="_card_1jeez_1",Qs="_bottleIcon_1jeez_35",Zs="_button_1jeez_49",ei="_btnIcon_1jeez_53",ti="_textBox_1jeez_70",ni="_btnBox_1jeez_84",ri="_ml_1jeez_92",oi="_time_1jeez_107",ie={card:Gs,bottleIcon:Qs,button:Zs,btnIcon:ei,textBox:ti,btnBox:ni,ml:ri,time:oi};var jt={exports:{}},Ce={},zn={exports:{}},ai="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",si=ai,ii=si;function Kn(){}function Jn(){}Jn.resetWarningCache=Kn;var li=function(){function e(r,a,i,l,s,c){if(c!==ii){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Jn,resetWarningCache:Kn};return n.PropTypes=n,n};zn.exports=li();var Xn=zn.exports,Ct={exports:{}},oe={},Tt={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",a=/input|select|textarea|button|object|iframe/;function i(f,h){return h.getPropertyValue("overflow")!=="visible"||f.scrollWidth<=0&&f.scrollHeight<=0}function l(f){var h=f.offsetWidth<=0&&f.offsetHeight<=0;if(h&&!f.innerHTML)return!0;try{var v=window.getComputedStyle(f),w=v.getPropertyValue("display");return h?w!==r&&i(f,v):w===n}catch{return console.warn("Failed to inspect element style"),!1}}function s(f){for(var h=f,v=f.getRootNode&&f.getRootNode();h&&h!==document.body;){if(v&&h===v&&(h=v.host.parentNode),l(h))return!1;h=h.parentNode}return!0}function c(f,h){var v=f.nodeName.toLowerCase(),w=a.test(v)&&!f.disabled||v==="a"&&f.href||h;return w&&s(f)}function p(f){var h=f.getAttribute("tabindex");h===null&&(h=void 0);var v=isNaN(h);return(v||h>=0)&&c(f,!v)}function d(f){var h=[].slice.call(f.querySelectorAll("*"),0).reduce(function(v,w){return v.concat(w.shadowRoot?d(w.shadowRoot):[w])},[]);return h.filter(p)}e.exports=t.default})(Tt,Tt.exports);var Gn=Tt.exports;Object.defineProperty(oe,"__esModule",{value:!0});oe.resetState=pi;oe.log=fi;oe.handleBlur=Ke;oe.handleFocus=Je;oe.markForFocusLater=mi;oe.returnFocus=vi;oe.popWithoutFocus=hi;oe.setupScopedFocus=gi;oe.teardownScopedFocus=yi;var ci=Gn,ui=di(ci);function di(e){return e&&e.__esModule?e:{default:e}}var Ae=[],Se=null,Dt=!1;function pi(){Ae=[]}function fi(){}function Ke(){Dt=!0}function Je(){if(Dt){if(Dt=!1,!Se)return;setTimeout(function(){if(!Se.contains(document.activeElement)){var e=(0,ui.default)(Se)[0]||Se;e.focus()}},0)}}function mi(){Ae.push(document.activeElement)}function vi(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=null;try{Ae.length!==0&&(t=Ae.pop(),t.focus({preventScroll:e}));return}catch{console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}}function hi(){Ae.length>0&&Ae.pop()}function gi(e){Se=e,window.addEventListener?(window.addEventListener("blur",Ke,!1),document.addEventListener("focus",Je,!0)):(window.attachEvent("onBlur",Ke),document.attachEvent("onFocus",Je))}function yi(){Se=null,window.addEventListener?(window.removeEventListener("blur",Ke),document.removeEventListener("focus",Je)):(window.detachEvent("onBlur",Ke),document.detachEvent("onFocus",Je))}var Mt={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var n=Gn,r=a(n);function a(s){return s&&s.__esModule?s:{default:s}}function i(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return s.activeElement.shadowRoot?i(s.activeElement.shadowRoot):s.activeElement}function l(s,c){var p=(0,r.default)(s);if(!p.length){c.preventDefault();return}var d=void 0,f=c.shiftKey,h=p[0],v=p[p.length-1],w=i();if(s===w){if(!f)return;d=v}if(v===w&&!f&&(d=h),h===w&&f&&(d=v),d){c.preventDefault(),d.focus();return}var y=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),N=y!=null&&y[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(N){var b=p.indexOf(w);if(b>-1&&(b+=f?-1:1),d=p[b],typeof d>"u"){c.preventDefault(),d=f?v:h,d.focus();return}c.preventDefault(),d.focus()}}e.exports=t.default})(Mt,Mt.exports);var bi=Mt.exports,ae={},re={},Qn={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=n:window.ExecutionEnvironment=n})()})(Qn);var _i=Qn.exports;Object.defineProperty(re,"__esModule",{value:!0});re.canUseDOM=re.SafeNodeList=re.SafeHTMLCollection=void 0;var xi=_i,wi=Oi(xi);function Oi(e){return e&&e.__esModule?e:{default:e}}var pt=wi.default,Ni=pt.canUseDOM?window.HTMLElement:{};re.SafeHTMLCollection=pt.canUseDOM?window.HTMLCollection:{};re.SafeNodeList=pt.canUseDOM?window.NodeList:{};re.canUseDOM=pt.canUseDOM;re.default=Ni;Object.defineProperty(ae,"__esModule",{value:!0});ae.resetState=Mi;ae.log=Si;ae.assertNodeList=Zn;ae.setElement=Ei;ae.validateElement=kt;ae.hide=Bi;ae.show=$i;ae.documentNotReadyOrSSRTesting=Ii;var ji=ka,Ci=Di(ji),Ti=re;function Di(e){return e&&e.__esModule?e:{default:e}}var G=null;function Mi(){G&&(G.removeAttribute?G.removeAttribute("aria-hidden"):G.length!=null?G.forEach(function(e){return e.removeAttribute("aria-hidden")}):document.querySelectorAll(G).forEach(function(e){return e.removeAttribute("aria-hidden")})),G=null}function Si(){}function Zn(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function Ei(e){var t=e;if(typeof t=="string"&&Ti.canUseDOM){var n=document.querySelectorAll(t);Zn(n,t),t=n}return G=t||G,G}function kt(e){var t=e||G;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,Ci.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function Bi(e){var t=!0,n=!1,r=void 0;try{for(var a=kt(e)[Symbol.iterator](),i;!(t=(i=a.next()).done);t=!0){var l=i.value;l.setAttribute("aria-hidden","true")}}catch(s){n=!0,r=s}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}function $i(e){var t=!0,n=!1,r=void 0;try{for(var a=kt(e)[Symbol.iterator](),i;!(t=(i=a.next()).done);t=!0){var l=i.value;l.removeAttribute("aria-hidden")}}catch(s){n=!0,r=s}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}function Ii(){G=null}var Pe={};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.resetState=Wi;Pe.log=Ai;var Ue={},Ve={};function dn(e,t){e.classList.remove(t)}function Wi(){var e=document.getElementsByTagName("html")[0];for(var t in Ue)dn(e,Ue[t]);var n=document.body;for(var r in Ve)dn(n,Ve[r]);Ue={},Ve={}}function Ai(){}var Pi=function(t,n){return t[n]||(t[n]=0),t[n]+=1,n},ki=function(t,n){return t[n]&&(t[n]-=1),n},Ri=function(t,n,r){r.forEach(function(a){Pi(n,a),t.add(a)})},Li=function(t,n,r){r.forEach(function(a){ki(n,a),n[a]===0&&t.remove(a)})};Pe.add=function(t,n){return Ri(t.classList,t.nodeName.toLowerCase()=="html"?Ue:Ve,n.split(" "))};Pe.remove=function(t,n){return Li(t.classList,t.nodeName.toLowerCase()=="html"?Ue:Ve,n.split(" "))};var ke={};Object.defineProperty(ke,"__esModule",{value:!0});ke.log=qi;ke.resetState=Hi;function Fi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var er=function e(){var t=this;Fi(this,e),this.register=function(n){t.openInstances.indexOf(n)===-1&&(t.openInstances.push(n),t.emit("register"))},this.deregister=function(n){var r=t.openInstances.indexOf(n);r!==-1&&(t.openInstances.splice(r,1),t.emit("deregister"))},this.subscribe=function(n){t.subscribers.push(n)},this.emit=function(n){t.subscribers.forEach(function(r){return r(n,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},lt=new er;function qi(){console.log("portalOpenInstances ----------"),console.log(lt.openInstances.length),lt.openInstances.forEach(function(e){return console.log(e)}),console.log("end portalOpenInstances ----------")}function Hi(){lt=new er}ke.default=lt;var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.resetState=zi;Rt.log=Ki;var Ui=ke,Vi=Yi(Ui);function Yi(e){return e&&e.__esModule?e:{default:e}}var V=void 0,ne=void 0,Ne=[];function zi(){for(var e=[V,ne],t=0;t<e.length;t++){var n=e[t];n&&n.parentNode&&n.parentNode.removeChild(n)}V=ne=null,Ne=[]}function Ki(){console.log("bodyTrap ----------"),console.log(Ne.length);for(var e=[V,ne],t=0;t<e.length;t++){var n=e[t],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function pn(){Ne.length!==0&&Ne[Ne.length-1].focusContent()}function Ji(e,t){!V&&!ne&&(V=document.createElement("div"),V.setAttribute("data-react-modal-body-trap",""),V.style.position="absolute",V.style.opacity="0",V.setAttribute("tabindex","0"),V.addEventListener("focus",pn),ne=V.cloneNode(),ne.addEventListener("focus",pn)),Ne=t,Ne.length>0?(document.body.firstChild!==V&&document.body.insertBefore(V,document.body.firstChild),document.body.lastChild!==ne&&document.body.appendChild(ne)):(V.parentElement&&V.parentElement.removeChild(V),ne.parentElement&&ne.parentElement.removeChild(ne))}Vi.default.subscribe(Ji);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(j){for(var O=1;O<arguments.length;O++){var E=arguments[O];for(var u in E)Object.prototype.hasOwnProperty.call(E,u)&&(j[u]=E[u])}return j},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},a=function(){function j(O,E){for(var u=0;u<E.length;u++){var x=E[u];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(O,x.key,x)}}return function(O,E,u){return E&&j(O.prototype,E),u&&j(O,u),O}}(),i=S,l=Xn,s=D(l),c=oe,p=g(c),d=bi,f=D(d),h=ae,v=g(h),w=Pe,y=g(w),N=re,b=D(N),C=ke,_=D(C);function g(j){if(j&&j.__esModule)return j;var O={};if(j!=null)for(var E in j)Object.prototype.hasOwnProperty.call(j,E)&&(O[E]=j[E]);return O.default=j,O}function D(j){return j&&j.__esModule?j:{default:j}}function M(j,O){if(!(j instanceof O))throw new TypeError("Cannot call a class as a function")}function B(j,O){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:j}function P(j,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);j.prototype=Object.create(O&&O.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(j,O):j.__proto__=O)}var I={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},k=function(O){return O.code==="Tab"||O.keyCode===9},q=function(O){return O.code==="Escape"||O.keyCode===27},H=0,L=function(j){P(O,j);function O(E){M(this,O);var u=B(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,E));return u.setOverlayRef=function(x){u.overlay=x,u.props.overlayRef&&u.props.overlayRef(x)},u.setContentRef=function(x){u.content=x,u.props.contentRef&&u.props.contentRef(x)},u.afterClose=function(){var x=u.props,$=x.appElement,F=x.ariaHideApp,W=x.htmlOpenClassName,K=x.bodyOpenClassName,X=x.parentSelector,te=X&&X().ownerDocument||document;K&&y.remove(te.body,K),W&&y.remove(te.getElementsByTagName("html")[0],W),F&&H>0&&(H-=1,H===0&&v.show($)),u.props.shouldFocusAfterRender&&(u.props.shouldReturnFocusAfterClose?(p.returnFocus(u.props.preventScroll),p.teardownScopedFocus()):p.popWithoutFocus()),u.props.onAfterClose&&u.props.onAfterClose(),_.default.deregister(u)},u.open=function(){u.beforeOpen(),u.state.afterOpen&&u.state.beforeClose?(clearTimeout(u.closeTimer),u.setState({beforeClose:!1})):(u.props.shouldFocusAfterRender&&(p.setupScopedFocus(u.node),p.markForFocusLater()),u.setState({isOpen:!0},function(){u.openAnimationFrame=requestAnimationFrame(function(){u.setState({afterOpen:!0}),u.props.isOpen&&u.props.onAfterOpen&&u.props.onAfterOpen({overlayEl:u.overlay,contentEl:u.content})})}))},u.close=function(){u.props.closeTimeoutMS>0?u.closeWithTimeout():u.closeWithoutTimeout()},u.focusContent=function(){return u.content&&!u.contentHasFocus()&&u.content.focus({preventScroll:!0})},u.closeWithTimeout=function(){var x=Date.now()+u.props.closeTimeoutMS;u.setState({beforeClose:!0,closesAt:x},function(){u.closeTimer=setTimeout(u.closeWithoutTimeout,u.state.closesAt-Date.now())})},u.closeWithoutTimeout=function(){u.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},u.afterClose)},u.handleKeyDown=function(x){k(x)&&(0,f.default)(u.content,x),u.props.shouldCloseOnEsc&&q(x)&&(x.stopPropagation(),u.requestClose(x))},u.handleOverlayOnClick=function(x){u.shouldClose===null&&(u.shouldClose=!0),u.shouldClose&&u.props.shouldCloseOnOverlayClick&&(u.ownerHandlesClose()?u.requestClose(x):u.focusContent()),u.shouldClose=null},u.handleContentOnMouseUp=function(){u.shouldClose=!1},u.handleOverlayOnMouseDown=function(x){!u.props.shouldCloseOnOverlayClick&&x.target==u.overlay&&x.preventDefault()},u.handleContentOnClick=function(){u.shouldClose=!1},u.handleContentOnMouseDown=function(){u.shouldClose=!1},u.requestClose=function(x){return u.ownerHandlesClose()&&u.props.onRequestClose(x)},u.ownerHandlesClose=function(){return u.props.onRequestClose},u.shouldBeClosed=function(){return!u.state.isOpen&&!u.state.beforeClose},u.contentHasFocus=function(){return document.activeElement===u.content||u.content.contains(document.activeElement)},u.buildClassName=function(x,$){var F=(typeof $>"u"?"undefined":r($))==="object"?$:{base:I[x],afterOpen:I[x]+"--after-open",beforeClose:I[x]+"--before-close"},W=F.base;return u.state.afterOpen&&(W=W+" "+F.afterOpen),u.state.beforeClose&&(W=W+" "+F.beforeClose),typeof $=="string"&&$?W+" "+$:W},u.attributesFromObject=function(x,$){return Object.keys($).reduce(function(F,W){return F[x+"-"+W]=$[W],F},{})},u.state={afterOpen:!1,beforeClose:!1},u.shouldClose=null,u.moveFromContentToOverlay=null,u}return a(O,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(u,x){this.props.isOpen&&!u.isOpen?this.open():!this.props.isOpen&&u.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!x.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var u=this.props,x=u.appElement,$=u.ariaHideApp,F=u.htmlOpenClassName,W=u.bodyOpenClassName,K=u.parentSelector,X=K&&K().ownerDocument||document;W&&y.add(X.body,W),F&&y.add(X.getElementsByTagName("html")[0],F),$&&(H+=1,v.hide(x)),_.default.register(this)}},{key:"render",value:function(){var u=this.props,x=u.id,$=u.className,F=u.overlayClassName,W=u.defaultStyles,K=u.children,X=$?{}:W.content,te=F?{}:W.overlay;if(this.shouldBeClosed())return null;var se={ref:this.setOverlayRef,className:this.buildClassName("overlay",F),style:n({},te,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},he=n({id:x,ref:this.setContentRef,style:n({},X,this.props.style.content),className:this.buildClassName("content",$),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Te=this.props.contentElement(he,K);return this.props.overlayElement(se,Te)}}]),O}(i.Component);L.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},L.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),parentSelector:s.default.func,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(b.default),s.default.instanceOf(N.SafeHTMLCollection),s.default.instanceOf(N.SafeNodeList),s.default.arrayOf(s.default.instanceOf(b.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},t.default=L,e.exports=t.default})(Ct,Ct.exports);var Xi=Ct.exports;function tr(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function nr(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function rr(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}tr.__suppressDeprecationWarning=!0;nr.__suppressDeprecationWarning=!0;rr.__suppressDeprecationWarning=!0;function Gi(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,a=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),n!==null||r!==null||a!==null){var i=e.displayName||e.name,l=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+l+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=tr,t.componentWillReceiveProps=nr),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=rr;var s=t.componentDidUpdate;t.componentDidUpdate=function(p,d,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;s.call(this,p,d,h)}}return e}const Qi=Object.freeze(Object.defineProperty({__proto__:null,polyfill:Gi},Symbol.toStringTag,{value:"Module"})),Zi=jr(Qi);Object.defineProperty(Ce,"__esModule",{value:!0});Ce.bodyOpenClassName=Ce.portalClassName=void 0;var fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},el=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),or=S,ct=Qe(or),tl=Nn,ut=Qe(tl),nl=Xn,T=Qe(nl),rl=Xi,mn=Qe(rl),ol=ae,al=il(ol),fe=re,vn=Qe(fe),sl=Zi;function il(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Qe(e){return e&&e.__esModule?e:{default:e}}function ll(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function cl(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ul=Ce.portalClassName="ReactModalPortal",dl=Ce.bodyOpenClassName="ReactModal__Body--open",we=fe.canUseDOM&&ut.default.createPortal!==void 0,gn=function(t){return document.createElement(t)},yn=function(){return we?ut.default.createPortal:ut.default.unstable_renderSubtreeIntoContainer};function rt(e){return e()}var Ze=function(e){cl(t,e);function t(){var n,r,a,i;ll(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return i=(r=(a=hn(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(s))),a),a.removePortal=function(){!we&&ut.default.unmountComponentAtNode(a.node);var p=rt(a.props.parentSelector);p&&p.contains(a.node)?p.removeChild(a.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},a.portalRef=function(p){a.portal=p},a.renderPortal=function(p){var d=yn(),f=d(a,ct.default.createElement(mn.default,fn({defaultStyles:t.defaultStyles},p)),a.node);a.portalRef(f)},r),hn(a,i)}return el(t,[{key:"componentDidMount",value:function(){if(fe.canUseDOM){we||(this.node=gn("div")),this.node.className=this.props.portalClassName;var r=rt(this.props.parentSelector);r.appendChild(this.node),!we&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var a=rt(r.parentSelector),i=rt(this.props.parentSelector);return{prevParent:a,nextParent:i}}},{key:"componentDidUpdate",value:function(r,a,i){if(fe.canUseDOM){var l=this.props,s=l.isOpen,c=l.portalClassName;r.portalClassName!==c&&(this.node.className=c);var p=i.prevParent,d=i.nextParent;d!==p&&(p.removeChild(this.node),d.appendChild(this.node)),!(!r.isOpen&&!s)&&!we&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!fe.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,a=Date.now(),i=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||a+this.props.closeTimeoutMS);i?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,i-a)):this.removePortal()}}},{key:"render",value:function(){if(!fe.canUseDOM||!we)return null;!this.node&&we&&(this.node=gn("div"));var r=yn();return r(ct.default.createElement(mn.default,fn({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){al.setElement(r)}}]),t}(or.Component);Ze.propTypes={isOpen:T.default.bool.isRequired,style:T.default.shape({content:T.default.object,overlay:T.default.object}),portalClassName:T.default.string,bodyOpenClassName:T.default.string,htmlOpenClassName:T.default.string,className:T.default.oneOfType([T.default.string,T.default.shape({base:T.default.string.isRequired,afterOpen:T.default.string.isRequired,beforeClose:T.default.string.isRequired})]),overlayClassName:T.default.oneOfType([T.default.string,T.default.shape({base:T.default.string.isRequired,afterOpen:T.default.string.isRequired,beforeClose:T.default.string.isRequired})]),appElement:T.default.oneOfType([T.default.instanceOf(vn.default),T.default.instanceOf(fe.SafeHTMLCollection),T.default.instanceOf(fe.SafeNodeList),T.default.arrayOf(T.default.instanceOf(vn.default))]),onAfterOpen:T.default.func,onRequestClose:T.default.func,closeTimeoutMS:T.default.number,ariaHideApp:T.default.bool,shouldFocusAfterRender:T.default.bool,shouldCloseOnOverlayClick:T.default.bool,shouldReturnFocusAfterClose:T.default.bool,preventScroll:T.default.bool,parentSelector:T.default.func,aria:T.default.object,data:T.default.object,role:T.default.string,contentLabel:T.default.string,shouldCloseOnEsc:T.default.bool,overlayRef:T.default.func,contentRef:T.default.func,id:T.default.string,overlayElement:T.default.func,contentElement:T.default.func};Ze.defaultProps={isOpen:!1,portalClassName:ul,bodyOpenClassName:dl,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(t,n){return ct.default.createElement("div",t,n)},contentElement:function(t,n){return ct.default.createElement("div",t,n)}};Ze.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,sl.polyfill)(Ze);Ce.default=Ze;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Ce,r=a(n);function a(i){return i&&i.__esModule?i:{default:i}}t.default=r.default,e.exports=t.default})(jt,jt.exports);var pl=jt.exports;const ft=Cr(pl),fl="_modal_1k82y_1",ml="_overlay_1k82y_9",vl="_close_1k82y_24",hl="_svgClose_1k82y_35",bt={modal:fl,overlay:ml,close:vl,svgClose:hl};ft.setAppElement("#root");const gl=({isOpen:e,onClose:t,children:n})=>o.jsxs(ft,{className:bt.modal,isOpen:e,onRequestClose:()=>t(),ariaHideApp:!1,overlayClassName:bt.overlay,children:[o.jsx("button",{type:"button",className:bt.close,onClick:()=>t()}),n]}),yl="_modalBackdrop_1k009_1",bl="_deleteModal_1k009_14",_l="_closeIcon_1k009_26",xl="_modalDeleteTitle_1k009_35",wl="_box_1k009_45",Ol="_modalDeleteText_1k009_51",Nl="_modalButtonContainer_1k009_62",jl="_text_1k009_73",bn={modalBackdrop:yl,deleteModal:bl,closeIcon:_l,modalDeleteTitle:xl,box:wl,modalDeleteText:Ol,modalButtonContainer:Nl,text:jl},Cl="_saveBtn_14flg_1",Tl="_logOutBtn_14flg_19",Dl="_cancelBtn_14flg_43",Ml="_saveBtnText_14flg_60",Sl="_cancelBtnText_14flg_70",Me={saveBtn:Cl,logOutBtn:Tl,cancelBtn:Dl,saveBtnText:Ml,cancelBtnText:Sl},_n=({text:e,onClick:t})=>{const n=()=>e==="Save"?Me.saveBtn:e==="Log out"?Me.logOutBtn:e==="Cancel"?Me.cancelBtn:e==="Delete"?Me.logOutBtn:"";return o.jsx("button",{className:n(),onClick:t,type:"submit",children:o.jsx("p",{className:e==="Save"||e==="Log out"||e==="Delete"?Me.saveBtnText:Me.cancelBtnText,children:e})})},El=({onRequestClose:e,water:t})=>{const n=me(),r=()=>{try{n(Tr(t._id)),e(),Ee.success("The amount of water consumed has been successfully deleted.")}catch{Ee.error("Something went wrong. Please try again.")}};return o.jsxs(o.Fragment,{children:[o.jsx("p",{className:bn.text,children:"Are you sure you want to delete the entry?"}),o.jsxs("div",{className:bn.box,children:[o.jsx(_n,{text:"Delete",onClick:r}),o.jsx(_n,{text:"Cancel",onClick:e})]})]})},Bl="_modalHeader_1ib1h_1",$l="_closeIcon_1ib1h_8",Il="_textBox_1ib1h_14",Wl="_closeBtn_1ib1h_20",Al="_titleHeader_1ib1h_30",Pl="_content_1ib1h_39",kl="_logoutContent_1ib1h_55",le={modalHeader:Bl,closeIcon:$l,textBox:Il,closeBtn:Wl,titleHeader:Al,content:Pl,logoutContent:kl},Rl={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(47, 47, 47, 0.6)",zIndex:100},content:{zIndex:100}};ft.setAppElement("#root");const Ll=({isOpen:e,onRequestClose:t,children:n,title:r})=>{const a=S.useCallback(i=>{i.key==="Escape"&&t()},[t]);return S.useEffect(()=>(document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)}),[a]),o.jsxs(ft,{isOpen:e,onRequestClose:t,shouldCloseOnOverlayClick:!0,className:r==="Setting"?le.content:le.logoutContent,style:Rl,id:"userSettingsModal",children:[o.jsxs("div",{className:le.modalHeader,children:[r==="Setting"&&o.jsx("div",{className:le.textBox,children:o.jsx("p",{className:le.titleHeader,children:r})}),o.jsx("button",{className:le.closeBtn,onClick:t,children:o.jsx("svg",{className:le.closeIcon,children:o.jsx("use",{xlinkHref:`${R}#icon-close-24x24`})})})]}),(r==="Log out"||r==="Delete")&&o.jsx("div",{className:le.textBox,children:o.jsx("p",{className:le.titleHeader,children:r})}),o.jsx("div",{className:le.modalContent,children:n})]})};function Fl({item:e}){const[t,n]=S.useState(!1),r=()=>{n(!0)},a=()=>{n(!1)},[i,l]=S.useState(!1),s=()=>{l(!0)},c=()=>{l(!1)},p=e.amount>=999?Math.round(e.amount/1e3*100)/100+" L":e.amount+" ml";return o.jsxs("div",{className:ie.card,children:[o.jsx("svg",{className:ie.bottleIcon,children:o.jsx("use",{href:R+"#icon-glass-38x38"})}),o.jsxs("div",{className:ie.textBox,children:[o.jsx("p",{className:ie.ml,children:p}),o.jsx("p",{className:ie.time,children:e.time})]}),o.jsxs("div",{className:ie.btnBox,children:[o.jsx("button",{className:ie.button,type:"button",onClick:r,children:o.jsx("svg",{className:ie.btnIcon,children:o.jsx("use",{href:R+"#icon-edit-16x16"})})}),o.jsx("button",{className:ie.button,type:"button",onClick:s,children:o.jsx("svg",{className:ie.btnIcon,children:o.jsx("use",{href:R+"#icon-trash-16x16"})})})]}),o.jsx("div",{children:o.jsx(gl,{isOpen:t,onClose:a,children:o.jsx(Wn,{mode:"edit",onClose:a,water:e})})}),o.jsx(Ll,{isOpen:i,title:"Delete",onRequestClose:c,children:o.jsx(El,{onRequestClose:c,water:e})})]})}const ql="_waterList_132xr_1",Hl="_empty_132xr_24",xn={waterList:ql,empty:Hl};function Ul(){const e=A(jn),{waterPerDay:t}=Xs(),{waterRecord:n=[]}=t||{};function r(){const i=S.useRef();return S.useEffect(()=>{const l=i.current;if(l){const s=c=>{c.deltaY!=0&&(c.preventDefault(),l.scrollTo({left:l.scrollLeft+c.deltaY,behavior:"smooth"}))};return l.addEventListener("wheel",s),()=>l.removeEventListener("wheel",s)}},[]),i}const a=r();return o.jsx("div",{"data-tour":"records-list-step",ref:a,className:xn.waterList,children:e?o.jsx(Wr,{}):n.length>0?n.map(i=>o.jsx(Fl,{item:i},i._id)):o.jsx("div",{className:xn.empty,children:o.jsx("p",{children:"🌵It is as dry as a desert"})})})}function Vl(){return o.jsxs("div",{style:{marginBottom:"40px"},children:[o.jsxs("div",{className:yt.wrapper,children:[o.jsx(Js,{}),o.jsx(An,{section:"daily",className:yt.addBtn,icon:`${R}#icon-plus16x16`,iconClassName:yt.icon})]}),o.jsx(Ul,{})]})}const Yl=()=>{const e=A(Tn),t=A(Dr),n=A(St),r=A(Mr),a=A(Sr);return{isLoggedIn:e,isRefreshing:t,user:n,refreshToken:r,accessToken:a}};function ar(e){if(!e||typeof e!="string")throw new Error("Invalid date format");let t;if(e.includes("/")){if(t=e.split("/"),t.length!==3)throw new Error("Date must be in MM/DD/YYYY format");const[n,r,a]=t,i=n.padStart(2,"0");return`${r.padStart(2,"0")}-${i}-${a}`}else if(e.includes(".")){if(t=e.split("."),t.length!==3)throw new Error("Date must be in DD.MM.YYYY format");const[n,r,a]=t,i=r.padStart(2,"0");return`${n.padStart(2,"0")}-${i}-${a}`}else throw new Error("Date format not recognized. Use MM/DD/YYYY or DD.MM.YYYY")}function zl(e){const t=a=>{const[i,l,s]=a.split(".").map(Number);return new Date(s,l-1,i)},n=new Date,r=t(e);return n.setHours(0,0,0,0),r.setHours(0,0,0,0),r>n}const Kl="_container_16wnc_1",Jl="_button_16wnc_10",Xl="_text_16wnc_30",_t={container:Kl,button:Jl,text:Xl},Gl=({feasibility:e=0,day:t,isActive:n,onClick:r,isDisabled:a})=>{const i=me(),l={backgroundColor:n?"#323f47":e<100?"rgba(50, 63, 71, 0.2)":"#FFFFFF",color:n?"#9be1a0":"#000000",cursor:a?"not-allowed":"pointer",opacity:a?.5:1},s=()=>{i(Dn(t)),r()};return o.jsxs("div",{className:_t.container,children:[o.jsx("button",{className:_t.button,style:l,onClick:s,disabled:a,children:t}),o.jsxs("p",{className:_t.text,children:[e,"%"]})]})},Ql="_container_j1lr6_1",Zl="_list_j1lr6_4",ec="_item_j1lr6_13",xt={container:Ql,list:Zl,item:ec},tc=(e,t)=>new Date(t,e+1,0).getDate(),nc=()=>{const e=me(),t=A(Er),n=A(Cn),r=A(b=>b.water.activeDay),a=Yl().user,i=b=>{if(!b||b.length===0)return 0;let C=0;b.forEach(D=>{C+=D.amount});const _=Number(a==null?void 0:a.waterNorma)*1e3;if(C>=_)return 100;const g=C/_*100;return Math.round(g)},l=new Date(t).getMonth(),s=new Date(t).getFullYear(),c=tc(l,s);function p(b){const[C,_,g]=b.split(".");return`${C}-${_}-${g}`}function d(b){const[C,_,g]=b.split(".");return`${C}-${_}-${g}`}function f(b=[],C){return b.filter(_=>_.date===C)}const h=new Date(t).toLocaleDateString(),v=ar(h);S.useEffect(()=>{e(Mn(v)),e(Gt(v))},[e,v]);const w=Array.from({length:c},(b,C)=>C+1),y=b=>{const C=`${String(b).padStart(2,"0")}.${String(l+1).padStart(2,"0")}.${s}`,_=p(C);e(Dn(C)),e(Gt(_))},N=In(r);return o.jsx("div",{"data-tour":"calendar-step",className:xt.container,children:o.jsx("ul",{className:xt.list,children:w.map(b=>{const C=`${String(b).padStart(2,"0")}.${String(l+1).padStart(2,"0")}.${s}`,_=d(C),g=f(n,_)||[],D=i(g),M=zl(C);return o.jsx("li",{className:xt.item,children:o.jsx(Gl,{day:b,waterData:g,feasibility:D,onClick:()=>y(b),isActive:C===N,isDisabled:M},b)},b)})})})};function rc(e){const n=["January","February","March","April","May","June","July","August","September","October","November","December"][new Date().getMonth()];return e===n}const oc="_container_yfwa7_1",ac="_paginationSection_yfwa7_8",sc="_month_yfwa7_15",ic="_chevron_yfwa7_25",lc="_chevronDisabled_yfwa7_31",cc="_button_yfwa7_36",uc="_buttonDisabled_yfwa7_61",dc="_icon_yfwa7_68",pc="_chooseMonth_yfwa7_75",fc="_span_yfwa7_81",mc="_statisticBtn_yfwa7_92",vc="_statisticBtnActive_yfwa7_101",hc="_text_yfwa7_115",Fe={container:oc,paginationSection:ac,month:sc,chevron:ic,chevronDisabled:lc,button:cc,buttonDisabled:uc,icon:dc,chooseMonth:pc,span:fc,statisticBtn:mc,statisticBtnActive:vc,text:hc},wn=["January","February","March","April","May","June","July","August","September","October","November","December"],gc=()=>{const e=me(),t=A(l=>l.water.currentDate),n=l=>{const s=l.toLocaleDateString(),c=ar(s);e(Br(l.getTime())),e(Mn(c))},r=()=>{const l=new Date(t);l.setMonth(l.getMonth()-1),n(l)},a=()=>{const l=new Date(t);l.setMonth(l.getMonth()+1),n(l)},i=rc(wn[new Date(t).getMonth()]);return o.jsxs("div",{className:Fe.container,children:[o.jsx("button",{className:Fe.button,type:"button",onClick:r,children:o.jsx("svg",{className:Fe.icon,children:o.jsx("use",{xlinkHref:`${R}#icon-chevron-left`})})}),o.jsxs("p",{children:[wn[new Date(t).getMonth()],", ",new Date(t).getFullYear()]}),o.jsx("button",{className:Fe.button,type:"button",onClick:a,disabled:i,children:o.jsx("svg",{className:Fe.icon,children:o.jsx("use",{xlinkHref:`${R}#icon-arrow-right-18x18`})})})]})},yc="_monthSectionInfo_rp5wu_1",bc="_monthTitle_rp5wu_6",_c="_monthPaginationContainer_rp5wu_15",wt={monthSectionInfo:yc,monthTitle:bc,monthPaginationContainer:_c},xc=()=>o.jsxs("section",{className:wt.monthSectionInfo,children:[o.jsxs("div",{className:wt.monthPaginationContainer,children:[o.jsx("h3",{className:wt.monthTitle,children:"Month"}),o.jsx(gc,{})]}),o.jsx(nc,{})]}),wc="_waterDetailInfo_l7u9z_1",Oc={waterDetailInfo:wc},Nc=()=>o.jsxs("div",{className:Oc.waterDetailInfo,children:[o.jsx(Hs,{}),o.jsx(Vl,{}),o.jsx(xc,{})]}),Dc=()=>{const e=me(),t=A(Tn);return S.useEffect(()=>{t&&e($r())},[t,e]),o.jsxs("div",{className:kr.container,children:[o.jsx(Ar,{children:"Aqua Track - Main Page"}),o.jsx(Oo,{}),o.jsx(Nc,{})]})};export{Dc as default};
//# sourceMappingURL=TrackerPage-D1p5Bxqj.js.map
